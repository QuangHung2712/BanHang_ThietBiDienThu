{"ast":null,"code":"import { resolveComponent as _resolveComponent, createVNode as _createVNode, withCtx as _withCtx, toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\";\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_pageheader = _resolveComponent(\"pageheader\");\n  const _component_v_autocomplete = _resolveComponent(\"v-autocomplete\");\n  const _component_BCol = _resolveComponent(\"BCol\");\n  const _component_v_text_field = _resolveComponent(\"v-text-field\");\n  const _component_Bcol = _resolveComponent(\"Bcol\");\n  const _component_BRow = _resolveComponent(\"BRow\");\n  const _component_BCardBody = _resolveComponent(\"BCardBody\");\n  const _component_BCard = _resolveComponent(\"BCard\");\n  const _component_v_icon = _resolveComponent(\"v-icon\");\n  const _component_v_data_table = _resolveComponent(\"v-data-table\");\n  return _openBlock(), _createElementBlock(_Fragment, null, [_createVNode(_component_pageheader, {\n    title: \"\",\n    pageTitle: \"Chờ tư vấn\"\n  }), _createVNode(_component_BRow, null, {\n    default: _withCtx(() => [_createVNode(_component_BCol, {\n      class: \"col-sm-12\"\n    }, {\n      default: _withCtx(() => [_createVNode(_component_BCard, null, {\n        default: _withCtx(() => [_createVNode(_component_BCardBody, {\n          class: \"p-0\"\n        }, {\n          default: _withCtx(() => [_createVNode(_component_BRow, null, {\n            default: _withCtx(() => [_createVNode(_component_BCol, {\n              class: \"col-sm-4 col-6\"\n            }, {\n              default: _withCtx(() => [_createVNode(_component_v_autocomplete, {\n                clearable: \"\",\n                label: \"Sản phẩm\",\n                items: $data.product,\n                \"item-title\": \"name\",\n                \"item-value\": \"id\",\n                modelValue: $data.searchProduct,\n                \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $data.searchProduct = $event),\n                variant: \"outlined\",\n                \"hide-details\": \"\"\n              }, null, 8 /* PROPS */, [\"items\", \"modelValue\"])]),\n              _: 1 /* STABLE */\n            }), _createVNode(_component_Bcol, {\n              class: \"col-sm-4 col-6\"\n            }, {\n              default: _withCtx(() => [_createVNode(_component_v_text_field, {\n                label: \"Tên khách hàng\",\n                variant: \"outlined\",\n                modelValue: $data.searchCustomerName,\n                \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => $data.searchCustomerName = $event),\n                clearable: \"\",\n                \"hide-details\": \"\"\n              }, null, 8 /* PROPS */, [\"modelValue\"])]),\n              _: 1 /* STABLE */\n            }), _createVNode(_component_Bcol, {\n              class: \"col-sm-4 col-6\"\n            }, {\n              default: _withCtx(() => [_createVNode(_component_v_text_field, {\n                label: \"SĐT khách hàng\",\n                variant: \"outlined\",\n                modelValue: $data.searchSDTCustomer,\n                \"onUpdate:modelValue\": _cache[2] || (_cache[2] = $event => $data.searchSDTCustomer = $event),\n                clearable: \"\",\n                \"hide-details\": \"\"\n              }, null, 8 /* PROPS */, [\"modelValue\"])]),\n              _: 1 /* STABLE */\n            })]),\n            _: 1 /* STABLE */\n          })]),\n          _: 1 /* STABLE */\n        })]),\n        _: 1 /* STABLE */\n      }), _createVNode(_component_BCard, {\n        \"no-body\": \"\",\n        class: \"table-card p-sm-2\"\n      }, {\n        default: _withCtx(() => [_createVNode(_component_BCardBody, null, {\n          default: _withCtx(() => [_createVNode(_component_v_data_table, {\n            headers: $data.headersTable,\n            items: $options.filteredData,\n            class: \"border-sm rounded-lg\"\n          }, {\n            [`item.stt`]: _withCtx(({\n              index\n            }) => [_createTextVNode(_toDisplayString(index + 1), 1 /* TEXT */)]),\n            [`item.actions`]: _withCtx(({\n              item\n            }) => [_createVNode(_component_v_icon, {\n              class: \"ml-lg-3\",\n              small: \"\",\n              onClick: $event => (_ctx.viewdialog = !_ctx.viewdialog) && $options.CreateEditProduct(item.id)\n            }, {\n              default: _withCtx(() => _cache[3] || (_cache[3] = [_createTextVNode(\"mdi-pencil-circle \")])),\n              _: 2 /* DYNAMIC */\n            }, 1032 /* PROPS, DYNAMIC_SLOTS */, [\"onClick\"]), _createVNode(_component_v_icon, {\n              class: \"ml-lg-3\",\n              small: \"\",\n              onClick: $event => $options.DeleteProduct(item.id, item.name)\n            }, {\n              default: _withCtx(() => _cache[4] || (_cache[4] = [_createTextVNode(\"mdi-delete-empty \")])),\n              _: 2 /* DYNAMIC */\n            }, 1032 /* PROPS, DYNAMIC_SLOTS */, [\"onClick\"])]),\n            _: 2 /* DYNAMIC */\n          }, 1032 /* PROPS, DYNAMIC_SLOTS */, [\"headers\", \"items\"])]),\n          _: 1 /* STABLE */\n        })]),\n        _: 1 /* STABLE */\n      })]),\n      _: 1 /* STABLE */\n    })]),\n    _: 1 /* STABLE */\n  })], 64 /* STABLE_FRAGMENT */);\n}","map":{"version":3,"names":["_createElementBlock","_Fragment","_createVNode","_component_pageheader","title","pageTitle","_component_BRow","default","_withCtx","_component_BCol","class","_component_BCard","_component_BCardBody","_component_v_autocomplete","clearable","label","items","$data","product","modelValue","searchProduct","_cache","$event","variant","_","_component_Bcol","_component_v_text_field","searchCustomerName","searchSDTCustomer","_component_v_data_table","headers","headersTable","$options","filteredData","index","_createTextVNode","_toDisplayString","item","_component_v_icon","small","onClick","_ctx","viewdialog","CreateEditProduct","id","DeleteProduct","name"],"sources":["D:\\Du_An\\BanHang_ThietBiDienThu\\QLBH_Application\\src\\views\\Manage\\Page\\Order.vue"],"sourcesContent":["<script>\r\n    import pageheader from \"@/components/page-header.vue\"\r\n    import Swal from \"sweetalert2\";\r\n    export default {\r\n        name: \"PRODUCT-LIST\",\r\n        components: {\r\n            pageheader\r\n        },\r\n        data(){\r\n            return{\r\n                searchProduct: null,\r\n                searchCustomerName: null,\r\n                searchSDTCustomer: null,\r\n                form: false,\r\n                headersTable:[\r\n                        {title: 'STT', value: 'stt',sortable: true},\r\n                        {title: 'Tên khách hàng',value:'customerName',sortable: true},\r\n                        {title: 'SĐT',value:'sdtCustomer',sortable: true},\r\n                        {title: 'SĐT Zalo',value:'sdtZaloCustomer',sortable: true},\r\n                        {title: 'Tên sản phẩm',value:'productName',sortable: true},\r\n                        {title: 'Ảnh sản phẩm',value:'productName',sortable: true},\r\n                        {title: 'Hành đồng',value: 'actions',sortable: false}\r\n                    ],\r\n                orderData: [\r\n\r\n                ],\r\n                product:[\r\n\r\n                ],\r\n            }\r\n        },\r\n        computed:{\r\n            filteredData() {\r\n                return this.orderData.filter((item) => {\r\n                    // Lọc theo loại sản phẩm\r\n                    const matchesProduct = this.searchProduct\r\n                    ? item.productId === this.searchProduct\r\n                    : true;\r\n\r\n                    // Lọc theo tên khách \r\n                    const matchesSearchCustomerName = this.searchCustomerName\r\n                    ? item.customerName?.toLowerCase().includes(this.searchCustomerName.toLowerCase())\r\n                    : true;\r\n\r\n\r\n                    return matchesProduct &&  matchesSearchCustomerName;\r\n                });\r\n            },\r\n        },\r\n        created(){\r\n            this.GetData();\r\n            this.GetProduct();\r\n        },\r\n        methods:{\r\n            GetData(){\r\n                this.$apiClient.get(`/Order/GetAll`)\r\n                        .then(response=>{\r\n                            this.orderData = response.data;\r\n                        })\r\n                        .catch(error=>{\r\n                            this.$notify(error.response.data.Message,error.response.data.Errors.join('. '),\"error\");\r\n                        })\r\n            },\r\n            GetProduct(){\r\n                this.$apiClient.get(`/Product/GetAll`)\r\n                        .then(response=>{\r\n                            this.product = response.data;\r\n                        })\r\n            },\r\n            CreateEditProduct(id){\r\n                if(id == 0){\r\n                    this.titleDialog = \"Thêm loại sản phẩm\";\r\n                    this.selectProductType.id = 0;\r\n                    this.selectProductType.name = null;\r\n                }\r\n                else{\r\n                    const producttype = this.productTypeData.find(Type => Type.id === id);\r\n                    this.selectProductType = {...producttype}\r\n                }\r\n            },\r\n            DeleteProduct(id,name){\r\n                const swalWithBootstrapButtons = Swal.mixin({\r\n                customClass: {\r\n                    confirmButton: \"btn btn-success\",\r\n                    cancelButton: \"btn btn-danger ml-2\",\r\n                },\r\n                buttonsStyling: false,\r\n            });\r\n\r\n            swalWithBootstrapButtons\r\n                .fire({\r\n                    title: \"Bạn có chắc chắn không?\",\r\n                    text: `Bạn đang muốn xóa loại sản phẩm: ${name}`,\r\n                    icon: \"warning\",\r\n                    confirmButtonText: \"Có!\",\r\n                    cancelButtonText: \"Không!\",\r\n                    showCancelButton: true,\r\n                })\r\n                .then((confirm) => {\r\n                    if (confirm.value) {\r\n                        this.$apiClient.delete(`/ProductType/Delete/${id}`)\r\n                                    .then(reponse=> {\r\n                                        console.log(reponse)\r\n                                        if(reponse.status){\r\n                                            swalWithBootstrapButtons.fire(\r\n                                            \"Xóa thành công!\",\r\n                                            `Đã xóa thành công dịch vụ: ${name}`,\r\n                                            \"success\")\r\n                                            this.GetData()\r\n                                        }\r\n                                        else{\r\n                                            swalWithBootstrapButtons.fire(\r\n                                                reponse.data.Message,\r\n                                                reponse.data.Errors.join('. '),\r\n                                                \"error\"\r\n                                            );\r\n                                        }\r\n                                    })\r\n                                    .catch(error =>{\r\n                                        swalWithBootstrapButtons.fire(\r\n                                            error.reponse.data.Message,\r\n                                            error.reponse.data.Errors.join('. '),\r\n                                            \"error\"\r\n                                        );\r\n                                    })\r\n                    } else if ( /* Read more about handling dismissals below */ confirm.dismiss === Swal.DismissReason.cancel) return\r\n                });\r\n            },\r\n            Save(){\r\n                this.$apiClient.put(`/ProductType/CreateEdit`,this.selectProductType)\r\n                        .then(()=>{\r\n                            this.$notify(\"Thao tác thành công\",\"\",\"success\");\r\n                            this.GetData();\r\n                            this.viewdialog = false;\r\n                        })\r\n                        .catch(error=>{\r\n                            this.$notify(error.response.data.Message,error.response.data.Errors.join('. '),\"error\");\r\n                        })\r\n            }\r\n        }\r\n}\r\n</script>\r\n\r\n\r\n\r\n<template>\r\n        <pageheader title=\"\" pageTitle=\"Chờ tư vấn\" />\r\n        <BRow>\r\n            <BCol class=\"col-sm-12\">\r\n                <BCard>\r\n                    <BCardBody class=\"p-0\">\r\n                        <BRow>\r\n                            <BCol class=\"col-sm-4 col-6\">\r\n                                <v-autocomplete\r\n                                    clearable\r\n                                    label=\"Sản phẩm\"\r\n                                    :items=\"product\"\r\n                                    item-title=\"name\"\r\n                                    item-value=\"id\"\r\n                                    v-model=\"searchProduct\"\r\n                                    variant=\"outlined\"\r\n                                    hide-details>\r\n                                </v-autocomplete>\r\n                            </BCol>\r\n                            <Bcol class=\"col-sm-4 col-6\"><v-text-field label=\"Tên khách hàng\" variant=\"outlined\" v-model=\"searchCustomerName\" clearable hide-details></v-text-field></Bcol>\r\n                            <Bcol class=\"col-sm-4 col-6\"><v-text-field label=\"SĐT khách hàng\" variant=\"outlined\" v-model=\"searchSDTCustomer\" clearable hide-details></v-text-field></Bcol>\r\n\r\n                        </BRow>\r\n                    </BCardBody>\r\n                </BCard>\r\n                <BCard no-body class=\"table-card p-sm-2\">\r\n                    <BCardBody>\r\n                        <v-data-table \r\n                            :headers = \"headersTable\"\r\n                            :items=\"filteredData\"\r\n                            class=\"border-sm rounded-lg\">\r\n                            <template v-slot:[`item.stt`]=\"{ index }\">\r\n                                {{ index + 1 }}\r\n                            </template>\r\n                            <template v-slot:[`item.actions`]=\"{ item }\">\r\n                                <v-icon class=\"ml-lg-3\" small @click=\"(viewdialog = !viewdialog) && (CreateEditProduct(item.id))\" >mdi-pencil-circle </v-icon>\r\n                                <v-icon class=\"ml-lg-3\" small @click=\"DeleteProduct(item.id,item.name)\" >mdi-delete-empty </v-icon>\r\n                            </template>\r\n                        </v-data-table>\r\n                    </BCardBody>\r\n                </BCard>\r\n            </BCol>\r\n        </BRow>\r\n</template>"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}