{"ast":null,"code":"import \"core-js/modules/esnext.iterator.constructor.js\";\nimport \"core-js/modules/esnext.iterator.filter.js\";\nimport \"core-js/modules/esnext.iterator.find.js\";\nimport pageheader from \"@/components/page-header.vue\";\nimport Swal from \"sweetalert2\";\nexport default {\n  name: \"PRODUCT-LIST\",\n  components: {\n    pageheader\n  },\n  data() {\n    return {\n      viewdialog: false,\n      titleDialog: null,\n      searchName: '',\n      form: false,\n      headersTable: [{\n        title: 'STT',\n        value: 'stt',\n        sortable: true\n      }, {\n        title: 'Tên loại sản phẩm',\n        value: 'name',\n        sortable: true\n      }, {\n        title: 'Hành đồng',\n        value: 'actions',\n        sortable: false\n      }],\n      productTypeData: [],\n      selectProductType: {\n        id: 0,\n        name: null\n      }\n    };\n  },\n  computed: {\n    filterService() {\n      return this.productTypeData.filter(type => type.name.toLowerCase().includes((this.searchName || '').toLowerCase()));\n    }\n  },\n  created() {\n    this.GetData();\n  },\n  methods: {\n    GetData() {\n      this.$apiClient.get(`/ProductType/GetAll`).then(response => {\n        this.productTypeData = response.data;\n        this.viewdialog = false;\n      }).catch(error => {\n        this.$notify(error.response.data.Message, error.response.data.Errors.join('. '), \"error\");\n      });\n    },\n    CreateEditProduct(id) {\n      if (id == 0) {\n        this.titleDialog = \"Thêm loại sản phẩm\";\n        this.selectProductType.id = 0;\n        this.selectProductType.name = null;\n      } else {\n        const producttype = this.productTypeData.find(Type => Type.id === id);\n        this.selectProductType = {\n          ...producttype\n        };\n      }\n    },\n    DeleteProduct(id, name) {\n      const swalWithBootstrapButtons = Swal.mixin({\n        customClass: {\n          confirmButton: \"btn btn-success\",\n          cancelButton: \"btn btn-danger ml-2\"\n        },\n        buttonsStyling: false\n      });\n      swalWithBootstrapButtons.fire({\n        title: \"Bạn có chắc chắn không?\",\n        text: `Bạn đang muốn xóa loại sản phẩm: ${name}`,\n        icon: \"warning\",\n        confirmButtonText: \"Có!\",\n        cancelButtonText: \"Không!\",\n        showCancelButton: true\n      }).then(confirm => {\n        if (confirm.value) {\n          this.$apiClient.delete(`/ProductType/Delete/${id}`).then(reponse => {\n            console.log(reponse);\n            if (reponse.status) {\n              swalWithBootstrapButtons.fire(\"Xóa thành công!\", `Đã xóa thành công dịch vụ: ${name}`, \"success\");\n              this.GetData();\n            } else {\n              swalWithBootstrapButtons.fire(reponse.data.Message, reponse.data.Errors.join('. '), \"error\");\n            }\n          }).catch(error => {\n            swalWithBootstrapButtons.fire(error.reponse.data.Message, error.reponse.data.Errors.join('. '), \"error\");\n          });\n        } else if (/* Read more about handling dismissals below */confirm.dismiss === Swal.DismissReason.cancel) return;\n      });\n    },\n    Save() {\n      this.$apiClient.put(`/ProductType/CreateEdit`, this.selectProductType).then(() => {\n        this.$notify(\"Thao tác thành công\", \"\", \"success\");\n        this.GetData();\n        this.viewdialog = false;\n      }).catch(error => {\n        this.$notify(error.response.data.Message, error.response.data.Errors.join('. '), \"error\");\n      });\n    }\n  }\n};","map":{"version":3,"names":["pageheader","Swal","name","components","data","viewdialog","titleDialog","searchName","form","headersTable","title","value","sortable","productTypeData","selectProductType","id","computed","filterService","filter","type","toLowerCase","includes","created","GetData","methods","$apiClient","get","then","response","catch","error","$notify","Message","Errors","join","CreateEditProduct","producttype","find","Type","DeleteProduct","swalWithBootstrapButtons","mixin","customClass","confirmButton","cancelButton","buttonsStyling","fire","text","icon","confirmButtonText","cancelButtonText","showCancelButton","confirm","delete","reponse","console","log","status","dismiss","DismissReason","cancel","Save","put"],"sources":["D:\\Du_An\\BanHang_ThietBiDienThu\\QLBH_Application\\src\\views\\Manage\\Page\\ProductType.vue"],"sourcesContent":["<script>\r\n    import pageheader from \"@/components/page-header.vue\"\r\n    import Swal from \"sweetalert2\";\r\n    export default {\r\n        name: \"PRODUCT-LIST\",\r\n        components: {\r\n            pageheader\r\n        },\r\n        data(){\r\n            return{\r\n                viewdialog: false,\r\n                titleDialog:null,\r\n                searchName: '',\r\n                form: false,\r\n                headersTable:[\r\n                        {title: 'STT', value: 'stt',sortable: true},\r\n                        {title: 'Tên loại sản phẩm',value:'name',sortable: true},\r\n                        {title: 'Hành đồng',value: 'actions',sortable: false}\r\n                    ],\r\n                productTypeData: [\r\n\r\n                ],\r\n                selectProductType : \r\n                {\r\n                    id:0,\r\n                    name:null\r\n                },\r\n            }\r\n        },\r\n        computed:{\r\n            filterService(){\r\n                return this.productTypeData.filter(type =>type.name.toLowerCase().includes((this.searchName || '').toLowerCase()))\r\n            }\r\n        },\r\n        created(){\r\n            this.GetData();\r\n        },\r\n        methods:{\r\n            GetData(){\r\n                this.$apiClient.get(`/ProductType/GetAll`)\r\n                        .then(response=>{\r\n                            this.productTypeData = response.data;\r\n                            this.viewdialog = false;\r\n                        })\r\n                        .catch(error=>{\r\n                            this.$notify(error.response.data.Message,error.response.data.Errors.join('. '),\"error\");\r\n                        })\r\n            },\r\n            CreateEditProduct(id){\r\n                if(id == 0){\r\n                    this.titleDialog = \"Thêm loại sản phẩm\";\r\n                    this.selectProductType.id = 0;\r\n                    this.selectProductType.name = null;\r\n                }\r\n                else{\r\n                    const producttype = this.productTypeData.find(Type => Type.id === id);\r\n                    this.selectProductType = {...producttype}\r\n                }\r\n            },\r\n            DeleteProduct(id,name){\r\n                const swalWithBootstrapButtons = Swal.mixin({\r\n                customClass: {\r\n                    confirmButton: \"btn btn-success\",\r\n                    cancelButton: \"btn btn-danger ml-2\",\r\n                },\r\n                buttonsStyling: false,\r\n            });\r\n\r\n            swalWithBootstrapButtons\r\n                .fire({\r\n                    title: \"Bạn có chắc chắn không?\",\r\n                    text: `Bạn đang muốn xóa loại sản phẩm: ${name}`,\r\n                    icon: \"warning\",\r\n                    confirmButtonText: \"Có!\",\r\n                    cancelButtonText: \"Không!\",\r\n                    showCancelButton: true,\r\n                })\r\n                .then((confirm) => {\r\n                    if (confirm.value) {\r\n                        this.$apiClient.delete(`/ProductType/Delete/${id}`)\r\n                                    .then(reponse=> {\r\n                                        console.log(reponse)\r\n                                        if(reponse.status){\r\n                                            swalWithBootstrapButtons.fire(\r\n                                            \"Xóa thành công!\",\r\n                                            `Đã xóa thành công dịch vụ: ${name}`,\r\n                                            \"success\")\r\n                                            this.GetData()\r\n                                        }\r\n                                        else{\r\n                                            swalWithBootstrapButtons.fire(\r\n                                                reponse.data.Message,\r\n                                                reponse.data.Errors.join('. '),\r\n                                                \"error\"\r\n                                            );\r\n                                        }\r\n                                    })\r\n                                    .catch(error =>{\r\n                                        swalWithBootstrapButtons.fire(\r\n                                            error.reponse.data.Message,\r\n                                            error.reponse.data.Errors.join('. '),\r\n                                            \"error\"\r\n                                        );\r\n                                    })\r\n                    } else if ( /* Read more about handling dismissals below */ confirm.dismiss === Swal.DismissReason.cancel) return\r\n                });\r\n            },\r\n            Save(){\r\n                this.$apiClient.put(`/ProductType/CreateEdit`,this.selectProductType)\r\n                        .then(()=>{\r\n                            this.$notify(\"Thao tác thành công\",\"\",\"success\");\r\n                            this.GetData();\r\n                            this.viewdialog = false;\r\n                        })\r\n                        .catch(error=>{\r\n                            this.$notify(error.response.data.Message,error.response.data.Errors.join('. '),\"error\");\r\n                        })\r\n            }\r\n        }\r\n}\r\n</script>\r\n\r\n\r\n\r\n<template>\r\n        <pageheader title=\"\" pageTitle=\"Loại sản phẩm\" />\r\n        <BRow>\r\n            <BCol class=\"col-sm-12\">\r\n                <BCard no-body class=\"table-card p-sm-2\">\r\n                    <BCardBody>\r\n                        <BRow class=\"text-end p-sm-2 \">\r\n                            <BCol class=\"col-sm-2 d-sm-block d-none\"></BCol>\r\n                            <BCol class=\"col-sm-4 col-6\"><v-text-field label=\"Tên dịch vụ\" variant=\"outlined\" v-model=\"searchName\" clearable hide-details></v-text-field></BCol>\r\n                            <BCol class=\"col-sm-2 col-6\"><v-btn @click=\"(viewdialog = !viewdialog) && (CreateEditProduct(0))\" color=\"blue-lighten-1\" class=\"mt-2\"> Thêm loại sản phẩm </v-btn></BCol>\r\n                        </BRow>\r\n                        \r\n                        <v-data-table \r\n                            :headers = \"headersTable\"\r\n                            :items=\"filterService\"\r\n                            class=\"border-sm rounded-lg\">\r\n                            <template v-slot:[`item.stt`]=\"{ index }\">\r\n                                {{ index + 1 }}\r\n                            </template>\r\n                            <template v-slot:[`item.actions`]=\"{ item }\">\r\n                                <v-icon class=\"ml-lg-3\" small @click=\"(viewdialog = !viewdialog) && (CreateEditProduct(item.id))\" >mdi-pencil-circle </v-icon>\r\n                                <v-icon class=\"ml-lg-3\" small @click=\"DeleteProduct(item.id,item.name)\" >mdi-delete-empty </v-icon>\r\n                            </template>\r\n                        </v-data-table>\r\n                    </BCardBody>\r\n                </BCard>\r\n                <BModal v-model=\"viewdialog\" hide-footer :title=\"titleDialog\" modal-class=\"fadeInRight\"\r\n                    class=\"v-modal-custom\" centered size=\"lg\" >\r\n                    <div class=\"card-body\">\r\n                        <v-form v-model=\"form\" ref=\"form\">\r\n                            <BRow>\r\n                                <BCol class=\"col-lg-12\">\r\n                                    <div class=\"form-group\">\r\n                                        <label class=\"form-label\">Tên dịch vụ:</label>\r\n                                        <v-text-field v-model=\"selectProductType.name\" :rules=\"[rules.required]\" variant=\"outlined\" clearable placeholder=\"Nhập vào tên dịch vụ\" class=\"input-control\"></v-text-field>\r\n                                    </div>\r\n                                </BCol>\r\n                            </BRow>\r\n                        </v-form>\r\n                    </div>\r\n                    <div class=\"modal-footer v-modal-footer\">\r\n                        <BButton type=\"button\" variant=\"light\" @click=\"viewdialog = false\">Close\r\n                        </BButton>\r\n                        <BButton type=\"button\" variant=\"primary\" @click=\"Save()\" :disabled=\"!form\">Save Changes</BButton>\r\n                    </div>\r\n                </BModal>\r\n            </BCol>\r\n        </BRow>\r\n</template>"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}