{"ast":null,"code":"import pageheader from \"@/components/page-header.vue\";\nexport default {\n  name: \"PRODUCT-DETAIL\",\n  components: {\n    pageheader\n  },\n  data() {\n    return {\n      currentSlide: 0,\n      product: {\n        name: null,\n        pathImg: [],\n        price: 0,\n        infoProduct: []\n      },\n      SimilarProducts: [],\n      index: 0,\n      visible: false\n    };\n  },\n  watch: {\n    // Theo dõi sự thay đổi của query parameter productName\n    '$route.query.productId': function (newValue) {\n      window.location.reload();\n      // Cập nhật giá trị của productName\n      // Gọi phương thức mỗi khi query thay đổi\n      this.GetDetail(newValue);\n    }\n  },\n  created() {\n    const productId = this.$route.params.productId;\n    this.GetDetail(productId);\n  },\n  methods: {\n    GetDetail(Id) {\n      this.$apiClient.get(`/Product/GetDetail/${Id}`).then(response => {\n        this.product = response.data;\n        this.$apiClient.get(`/Product/GetProductByType?productType=${this.product.productTypeId}&id=${Id}`).then(response => {\n          this.SimilarProducts = response.data;\n          console.log(this.SimilarProducts);\n        });\n      });\n    },\n    showImg(index) {\n      this.index = index;\n      this.visible = true;\n    },\n    handleHide() {\n      this.visible = false;\n    },\n    GotoDetail(id) {\n      this.$router.replace({\n        name: this.$route.name,\n        params: {\n          productId: id\n        }\n      });\n      this.GetDetail(id);\n    }\n  }\n};","map":{"version":3,"names":["pageheader","name","components","data","currentSlide","product","pathImg","price","infoProduct","SimilarProducts","index","visible","watch","$route.query.productId","newValue","window","location","reload","GetDetail","created","productId","$route","params","methods","Id","$apiClient","get","then","response","productTypeId","console","log","showImg","handleHide","GotoDetail","id","$router","replace"],"sources":["D:\\Du_An\\BanHang_ThietBiDienThu\\QLBH_Application\\src\\views\\SearchForProducts\\ProductDetail.vue"],"sourcesContent":["<script>\r\n    import pageheader from \"@/components/page-header.vue\"\r\n\r\n    export default {\r\n        name: \"PRODUCT-DETAIL\",\r\n        components: {\r\n            pageheader\r\n        },\r\n        data(){\r\n            return{\r\n                currentSlide: 0,\r\n                product:{\r\n                    name: null,\r\n                    pathImg:[],\r\n                    price: 0,\r\n                    infoProduct:[\r\n\r\n                    ]\r\n                },\r\n                SimilarProducts:[\r\n\r\n                ],\r\n                index: 0,\r\n                visible: false,\r\n            }\r\n        },\r\n        watch:{\r\n            // Theo dõi sự thay đổi của query parameter productName\r\n            '$route.query.productId': function(newValue) {\r\n                window.location.reload();\r\n                // Cập nhật giá trị của productName\r\n                // Gọi phương thức mỗi khi query thay đổi\r\n                this.GetDetail(newValue);\r\n                \r\n            },\r\n        },\r\n        created(){\r\n            const productId = this.$route.params.productId;\r\n            this.GetDetail(productId);\r\n        },\r\n        methods:{\r\n            GetDetail(Id){\r\n                this.$apiClient.get(`/Product/GetDetail/${Id}`)\r\n                        .then(response=>{\r\n                            this.product = response.data;\r\n                            this.$apiClient.get(`/Product/GetProductByType?productType=${this.product.productTypeId}&id=${Id}`)\r\n                                .then(response=>{\r\n                                    this.SimilarProducts = response.data;\r\n                                    console.log(this.SimilarProducts)\r\n                                })\r\n                        })\r\n            },\r\n            showImg(index) {\r\n                this.index = index;\r\n                this.visible = true;\r\n            },\r\n            handleHide() {\r\n                this.visible = false;\r\n            },\r\n            GotoDetail(id){\r\n                this.$router.replace({ name: this.$route.name, params: { productId: id } });\r\n                this.GetDetail(id);\r\n            }\r\n        }\r\n    }\r\n</script>\r\n<template>\r\n    <pageheader title=\"Chi tiết sản phẩm\" pageTitle=\"Sản phẩm\" />\r\n    <BRow>\r\n        <BCol class=\"col-xl-8\">\r\n            <v-row justify=\"center\" class=\"m-0\" >\r\n                <!-- Carousel chính -->\r\n                <v-carousel v-model=\"currentSlide\" hide-delimiters show-arrows=\"hover\" height=\"480\" class=\"item\" >\r\n                    <v-carousel-item v-for=\"(item, index) in product.pathImg\" :key=\"index\">\r\n                        <v-img :src=\"item\" @click=\"showImg(index)\" />\r\n                    </v-carousel-item>\r\n                </v-carousel>\r\n\r\n                <!-- Thumbnails -->\r\n                <v-row justify=\"center\" class=\"m-0\">\r\n                    <div\r\n                    v-for=\"(item, index) in product.pathImg\"\r\n                    :key=\"index\"\r\n                    @click=\"currentSlide = index\"\r\n                    class=\"thumbnail-container\"\r\n                    >\r\n                    <v-img\r\n                        :src=\"item\"\r\n                        :alt=\"'Ảnh phòng ' + index \"\r\n                        class=\"thumbnail\"\r\n                        :class=\"{ active: currentSlide === index }\"\r\n                    />\r\n                    </div>\r\n                </v-row>\r\n            </v-row>\r\n        </BCol>\r\n        <BCol class=\"col-xl-4\">\r\n            <div style=\"min-height: 480px;\">\r\n                <h3>{{ product.name }}</h3>\r\n                <h1 class=\"text-red\">{{ this.$common.formatTablePrice(product.price) }}</h1>\r\n                <ul class=\"text-xl text-black\">\r\n                    <li><strong>Loại sản phẩm: </strong>{{ product.productTypeName }}</li>\r\n                    <li><strong>Bảo hành: </strong>{{ product.warrantyPeriod }}</li>\r\n                    <div v-for=\"(item ,index) in product.infoProduct\" :key=\"index\">\r\n                        <li><strong>{{ item.name }}: </strong>{{ item.describe }}</li>\r\n                    </div>\r\n                </ul>\r\n            </div>\r\n            <v-btn \r\n            class=\"custom-button\"\r\n            color=\"#3E5C44\" \r\n            size=\"large\"\r\n            variant=\"flat\"\r\n            >\r\n                <strong>TƯ VẤN</strong>\r\n            </v-btn>\r\n        </BCol>\r\n    </BRow>\r\n    <BCard >\r\n        <BCardHeader class=\"p-0\">\r\n            <h3>Sản phẩm tương tự</h3>\r\n        </BCardHeader>\r\n        <BCardBody>\r\n            <BRow>\r\n                <div v-for=\"(item,index) in SimilarProducts\" :key=\"index\"  class=\"col-xl-3 col-12 p-2\">\r\n                    <div @click=\"GotoDetail(item.id)\">\r\n                        <div class=\"d-flex w-100 justify-center\">\r\n                            <img :src=\"item.pathImg\" width=\"200\" height=\"200\" alt=\"\">\r\n                        </div>\r\n                        <div class=\"text-center mt-3\">\r\n                            <p style=\"font-size: 18px !important;\">{{ item.name }}</p>\r\n                            <h3 style=\"color: red;\">{{ item.price.toLocaleString(\"vi-vn\") }} VNĐ</h3>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </BRow>\r\n            \r\n        </BCardBody>\r\n    </BCard>\r\n    <vue-easy-lightbox :visible=\"visible\" :imgs=\"product.pathImg\" :index=\"index\" @hide=\"handleHide\"></vue-easy-lightbox>\r\n</template>\r\n<style scoped>\r\n    .thumbnail-container {\r\n        cursor: pointer;\r\n        padding: 4px;\r\n    }\r\n\r\n    .thumbnail {\r\n        border: 2px solid transparent;\r\n        border-radius: 8px;\r\n        transition: 0.3s;\r\n    }\r\n\r\n    .thumbnail.active {\r\n        border-color: #1976d2; /* Màu xanh Vuetify */\r\n        box-shadow: 0 0 8px rgba(25, 118, 210, 0.7);\r\n    }\r\n\r\n    .thumbnail {\r\n        width: 50px;\r\n        height: 50px; \r\n    }\r\n    .custom-button {\r\n        font-size: 16px;\r\n        font-weight: bold;\r\n        color: white;\r\n        text-transform: none; /* Giữ nguyên chữ thường */\r\n        border-radius: 8px; /* Bo góc nhẹ */\r\n        background-color: #326e51;\r\n    }\r\n</style>"],"mappings":"AACI,OAAOA,UAAS,MAAO,8BAA6B;AAEpD,eAAe;EACXC,IAAI,EAAE,gBAAgB;EACtBC,UAAU,EAAE;IACRF;EACJ,CAAC;EACDG,IAAIA,CAAA,EAAE;IACF,OAAM;MACFC,YAAY,EAAE,CAAC;MACfC,OAAO,EAAC;QACJJ,IAAI,EAAE,IAAI;QACVK,OAAO,EAAC,EAAE;QACVC,KAAK,EAAE,CAAC;QACRC,WAAW,EAAC;MAGhB,CAAC;MACDC,eAAe,EAAC,EAEf;MACDC,KAAK,EAAE,CAAC;MACRC,OAAO,EAAE;IACb;EACJ,CAAC;EACDC,KAAK,EAAC;IACF;IACA,wBAAwB,EAAE,SAAAC,CAASC,QAAQ,EAAE;MACzCC,MAAM,CAACC,QAAQ,CAACC,MAAM,CAAC,CAAC;MACxB;MACA;MACA,IAAI,CAACC,SAAS,CAACJ,QAAQ,CAAC;IAE5B;EACJ,CAAC;EACDK,OAAOA,CAAA,EAAE;IACL,MAAMC,SAAQ,GAAI,IAAI,CAACC,MAAM,CAACC,MAAM,CAACF,SAAS;IAC9C,IAAI,CAACF,SAAS,CAACE,SAAS,CAAC;EAC7B,CAAC;EACDG,OAAO,EAAC;IACJL,SAASA,CAACM,EAAE,EAAC;MACT,IAAI,CAACC,UAAU,CAACC,GAAG,CAAC,sBAAsBF,EAAE,EAAE,EACrCG,IAAI,CAACC,QAAQ,IAAE;QACZ,IAAI,CAACvB,OAAM,GAAIuB,QAAQ,CAACzB,IAAI;QAC5B,IAAI,CAACsB,UAAU,CAACC,GAAG,CAAC,yCAAyC,IAAI,CAACrB,OAAO,CAACwB,aAAa,OAAOL,EAAE,EAAE,EAC7FG,IAAI,CAACC,QAAQ,IAAE;UACZ,IAAI,CAACnB,eAAc,GAAImB,QAAQ,CAACzB,IAAI;UACpC2B,OAAO,CAACC,GAAG,CAAC,IAAI,CAACtB,eAAe;QACpC,CAAC;MACT,CAAC;IACb,CAAC;IACDuB,OAAOA,CAACtB,KAAK,EAAE;MACX,IAAI,CAACA,KAAI,GAAIA,KAAK;MAClB,IAAI,CAACC,OAAM,GAAI,IAAI;IACvB,CAAC;IACDsB,UAAUA,CAAA,EAAG;MACT,IAAI,CAACtB,OAAM,GAAI,KAAK;IACxB,CAAC;IACDuB,UAAUA,CAACC,EAAE,EAAC;MACV,IAAI,CAACC,OAAO,CAACC,OAAO,CAAC;QAAEpC,IAAI,EAAE,IAAI,CAACoB,MAAM,CAACpB,IAAI;QAAEqB,MAAM,EAAE;UAAEF,SAAS,EAAEe;QAAG;MAAE,CAAC,CAAC;MAC3E,IAAI,CAACjB,SAAS,CAACiB,EAAE,CAAC;IACtB;EACJ;AACJ","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}