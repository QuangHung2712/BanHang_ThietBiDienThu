{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport Rightbar from \"@/components/right-bar.vue\";\nexport default {\n  name: \"LOGIN\",\n  components: {\n    Rightbar\n  },\n  data() {\n    return {\n      login: {\n        email: 'admin',\n        password: '1'\n      },\n      remember: false,\n      form: false,\n      showPassword: false,\n      errorMessage: '',\n      loading: false // Trạng thái loading\n    };\n  },\n  created() {\n    const token = localStorage.getItem('token');\n    if (token) {\n      // Token tồn tại, chuyển hướng đến trang tower\n      this.$router.push({\n        name: 'manage'\n      });\n    }\n  },\n  methods: {\n    LogIn() {\n      this.loading = true;\n      this.$apiClient.post(`/Auth/Login`, this.login).then(response => {\n        //this.$store.dispatch('login',response.data);\n        localStorage.setItem('token', response.data);\n        //localStorage.setItem('landlordId',response.data.userId)\n        //if(this.remember){}\n        this.errorMessage = \"\";\n        this.loading = false;\n        this.$router.push({\n          name: 'manage'\n        });\n        console.log(\"Được thực thi ở đây\");\n      }).catch(error => {\n        //this.$notify(error.response.data.Message,error.response.data.Errors.join('. '), \"error\");\n        this.errorMessage = error.response.data.Errors.join('. ');\n        this.loading = false;\n      });\n    }\n  }\n};","map":{"version":3,"names":["Rightbar","name","components","data","login","email","password","remember","form","showPassword","errorMessage","loading","created","token","localStorage","getItem","$router","push","methods","LogIn","$apiClient","post","then","response","setItem","console","log","catch","error","Errors","join"],"sources":["D:\\Du_An\\BanHang_ThietBiDienThu\\QLBH_Application\\src\\views\\Manage\\Auth\\Login.vue"],"sourcesContent":["<style scoped>\r\n    .auth-wrapper{\r\n        background-image: url('../../../../public/images/background.jpg');\r\n        background-size: cover;\r\n        background-position: center;\r\n        background-repeat: no-repeat;\r\n    }\r\n</style>\r\n<script>\r\nimport Rightbar from \"@/components/right-bar.vue\"\r\n\r\nexport default {\r\n    name: \"LOGIN\",\r\n    components: {\r\n        Rightbar\r\n    },\r\n    data(){\r\n        return{\r\n            login:{\r\n                email: 'admin',\r\n                password:'1',\r\n            },\r\n            remember: false,\r\n            form: false,\r\n            showPassword: false,\r\n            errorMessage: '',\r\n            loading: false,  // Trạng thái loading\r\n        }\r\n    },\r\n    created() {\r\n        const token = localStorage.getItem('token');\r\n        if (token) {\r\n            // Token tồn tại, chuyển hướng đến trang tower\r\n            this.$router.push({ name: 'manage' });\r\n        }\r\n    },\r\n    methods:{\r\n        LogIn() {\r\n            this.loading = true;\r\n            \r\n            this.$apiClient.post(`/Auth/Login`,this.login)\r\n                .then(response=>{\r\n                    //this.$store.dispatch('login',response.data);\r\n                    localStorage.setItem('token',response.data)\r\n                    //localStorage.setItem('landlordId',response.data.userId)\r\n                    //if(this.remember){}\r\n                    this.errorMessage = \"\"\r\n                    this.loading = false;\r\n                    this.$router.push({ name: 'manage' });\r\n                    console.log(\"Được thực thi ở đây\" );\r\n                    \r\n                })\r\n                .catch(error=>{\r\n                    //this.$notify(error.response.data.Message,error.response.data.Errors.join('. '), \"error\");\r\n                    this.errorMessage = error.response.data.Errors.join('. ');\r\n                    this.loading = false;\r\n                });\r\n        },\r\n    }\r\n}\r\n</script>\r\n\r\n<template>\r\n    <div class=\"auth-main v2\">\r\n        <div class=\"bg-overlay bg-dark\"></div>\r\n        <div class=\"auth-wrapper\">\r\n            <div class=\"auth-sidecontent\">\r\n\r\n                <div class=\"auth-sidefooter\">\r\n                    <h4 class=\"text-white\">QUẢN LÝ NHÀ TRỌ</h4>\r\n                    <!-- <img src=\"\" class=\"img-brand img-fluid\" alt=\"images\"> -->\r\n                    <hr class=\"mb-3 mt-4\">\r\n                    <!-- <BRow class=\"row\">\r\n                        <BCol class=\"col-auto my-1\">\r\n                            <ul class=\"list-inline footer-link mb-0\">\r\n                                <li class=\"list-inline-item\"><router-link to=\"/dashboard\">Home</router-link></li>\r\n                                <li class=\"list-inline-item\"><a href=\"#\"\r\n                                        target=\"_blank\">Documentation</a></li>\r\n                                <li class=\"list-inline-item\"><a href=\"#\"\r\n                                        target=\"_blank\">Support</a></li>\r\n                            </ul>\r\n                        </BCol>\r\n                    </BRow> -->\r\n                </div>\r\n            </div>\r\n            <div class=\"auth-form\">\r\n                <div class=\"card my-5 mx-3\">\r\n                    <div class=\"card-body\">\r\n                        <h4 class=\"f-w-500 mb-1\">Đăng nhập</h4>\r\n                        <p class=\"mb-3\">Bạn chưa có tài khoản? <router-link to=\"/register\"\r\n                                class=\"link-primary ms-1\">Tạo tài khoản</router-link></p>\r\n                        <v-form v-model=\"form\" ref=\"form\" @keyup.enter=\"LogIn()\">\r\n                            <div class=\"form-group mb-3\">\r\n                                <v-text-field \r\n                                    type=\"email\" \r\n                                    label=\"Email\"  \r\n                                    variant=\"outlined\" \r\n                                    placeholder=\"Email\" \r\n                                    :rules=\"[rules.required]\" \r\n                                    v-model=\"login.email\"\r\n                                    prepend-inner-icon=\"mdi-email-outline\"\r\n                                ></v-text-field>\r\n                            </div>\r\n                                <v-text-field \r\n                                    :type=\"showPassword ? 'text' : 'password'\" \r\n                                    label=\"Mật khẩu\"  \r\n                                    variant=\"outlined\"\r\n                                    placeholder=\"Mật khẩu\" \r\n                                    :rules=\"[required]\" \r\n                                    v-model=\"login.password\"\r\n                                    prepend-inner-icon=\"mdi-lock-outline\"\r\n                                    :append-inner-icon=\"showPassword ? 'mdi-eye' : 'mdi-eye-off'\"\r\n                                    @click:append-inner=\"showPassword = !showPassword\"\r\n                                    ></v-text-field>\r\n                            <div class=\"d-flex mt-1 justify-content-between align-items-center\">\r\n                                <div class=\"form-check\">\r\n                                    <input class=\"form-check-input input-primary\" type=\"checkbox\" id=\"customCheckc1\" v-model=\"remember\">\r\n                                    <label class=\"form-check-label text-muted\" for=\"customCheckc1\">Nhớ mật khẩu</label>\r\n                                </div>\r\n                                <router-link to=\"/forgot\">\r\n                                    <h6 class=\"text-secondary f-w-400 mb-0\">Quên mật khẩu?</h6>\r\n                                </router-link>\r\n                            </div>\r\n                        </v-form>\r\n                        <div class=\"d-grid mt-4\">\r\n                            <button type=\"button\" @click=\"LogIn()\" class=\"btn btn-primary\" :disabled=\"!form\" :loading=\"loading\">Đăng nhập</button>\r\n\r\n                        <!-- Biểu tượng loading khi đang xử lý -->\r\n                        <v-progress-circular v-if=\"loading\" indeterminate color=\"primary\"></v-progress-circular>\r\n\r\n                        <!-- Thông báo lỗi khi có lỗi xảy ra -->\r\n                        <v-alert v-if=\"errorMessage\" type=\"error\" dismissible>\r\n                        {{ errorMessage }}\r\n                        </v-alert>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    <Rightbar />\r\n</template>"],"mappings":";AASA,OAAOA,QAAO,MAAO,4BAA2B;AAEhD,eAAe;EACXC,IAAI,EAAE,OAAO;EACbC,UAAU,EAAE;IACRF;EACJ,CAAC;EACDG,IAAIA,CAAA,EAAE;IACF,OAAM;MACFC,KAAK,EAAC;QACFC,KAAK,EAAE,OAAO;QACdC,QAAQ,EAAC;MACb,CAAC;MACDC,QAAQ,EAAE,KAAK;MACfC,IAAI,EAAE,KAAK;MACXC,YAAY,EAAE,KAAK;MACnBC,YAAY,EAAE,EAAE;MAChBC,OAAO,EAAE,KAAK,CAAG;IACrB;EACJ,CAAC;EACDC,OAAOA,CAAA,EAAG;IACN,MAAMC,KAAI,GAAIC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;IAC3C,IAAIF,KAAK,EAAE;MACP;MACA,IAAI,CAACG,OAAO,CAACC,IAAI,CAAC;QAAEhB,IAAI,EAAE;MAAS,CAAC,CAAC;IACzC;EACJ,CAAC;EACDiB,OAAO,EAAC;IACJC,KAAKA,CAAA,EAAG;MACJ,IAAI,CAACR,OAAM,GAAI,IAAI;MAEnB,IAAI,CAACS,UAAU,CAACC,IAAI,CAAC,aAAa,EAAC,IAAI,CAACjB,KAAK,EACxCkB,IAAI,CAACC,QAAQ,IAAE;QACZ;QACAT,YAAY,CAACU,OAAO,CAAC,OAAO,EAACD,QAAQ,CAACpB,IAAI;QAC1C;QACA;QACA,IAAI,CAACO,YAAW,GAAI,EAAC;QACrB,IAAI,CAACC,OAAM,GAAI,KAAK;QACpB,IAAI,CAACK,OAAO,CAACC,IAAI,CAAC;UAAEhB,IAAI,EAAE;QAAS,CAAC,CAAC;QACrCwB,OAAO,CAACC,GAAG,CAAC,qBAAsB,CAAC;MAEvC,CAAC,EACAC,KAAK,CAACC,KAAK,IAAE;QACV;QACA,IAAI,CAAClB,YAAW,GAAIkB,KAAK,CAACL,QAAQ,CAACpB,IAAI,CAAC0B,MAAM,CAACC,IAAI,CAAC,IAAI,CAAC;QACzD,IAAI,CAACnB,OAAM,GAAI,KAAK;MACxB,CAAC,CAAC;IACV;EACJ;AACJ","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}